# Визуализатор архитектуры веб-серверов

Проект разработан в рамках хакатона DevDeys Fall 2025 (команда №17).  
Цель — анализ и визуализация архитектуры Python-веб-серверов в виде графов.  
Система позволяет увидеть связи между файлами, функциями, классами и потоками управления внутри кода.

---

## Описание задачи

Программа анализирует структуру Python-проектов и строит визуальное представление архитектуры.  
В процессе анализа выделяются:

- зависимости между файлами и модулями,
- связи между функциями и классами,
- потоки управления (Control Flow Graph) внутри функций.

Результат анализа представляется в виде JSON, который отображается на фронтенде в виде интерактивных графов.

---

## Возможности

- Анализ исходного кода проекта на нескольких уровнях (файлы, функции, классы, CFG)
- Поиск FastAPI ручек и моделей SQLAlchemy
- Формирование структуры зависимостей в формате JSON
- REST API для получения результатов анализа
- Интерфейс для визуализации архитектуры в браузере

---

## Архитектура проекта

Система состоит из двух частей: **backend** (анализатор кода) и **frontend** (визуализатор).

---

### Backend (`/backend`)

**Технологии:** Python, FastAPI, SQLAlchemy, AST

Бэкенд отвечает за парсинг и анализ кода, генерацию графа и предоставление API.

#### Основные файлы

- `dep_analyzer.py` — анализ зависимостей между файлами  
- `file_processor.py` — извлечение информации о классах и функциях  
- `cfg_visitor.py` — построение графа потока управления (Control Flow Graph)  
- `pydantic_models.py` — описание структур данных для API  
- `main.py` — основной модуль FastAPI-приложения  
- `requirements.txt` — зависимости проекта  
- `Dockerfile`, `docker-compose.yml` — для контейнеризации и запуска

#### Запуск backend

```bash
cd backend
docker compose up --build
```

#### Пример API-запроса

```bash
POST /scan
Content-Type: application/json

{
    "repo_root": "./",
    "root_module": "main"
}
```

#### Frontend (/frontend)

**Технологии:** React, Vite, JavaScript

Фронтенд отображает данные анализа в виде графов.
Предусмотрены страницы для разных уровней визуализации: файловая структура, связи функций, граф потока управления.

## Основные файлы

- App.jsx — главный компонент приложения

- CFGVisualizer.jsx — визуализация графа потока управления

- TreePage.jsx — дерево модулей проекта

- helpers.js — утилиты для работы с графами

- vite.config.js — конфигурация сборки

- package.json — зависимости и скрипты npm

#### Запуск frontend

```bash
cd frontend
npm install
npm run dev
```

#### Пример использования

- Разместите проект для анализа в каталоге /backend/app/test

- Запустите backend (через Docker)

- Перейдите во frontend и откройте интерфейс визуализации

- Выберите нужный проект — появится интерактивный граф зависимостей и функций

#### Возможные направления развития

- Анализ GitHub-репозиториев без локального клонирования

- Динамический анализ: определение функций, взаимодействующих с базой данных

- Поддержка других фреймворков и языков

- Распознавание архитектурных паттернов и зависимостей между слоями

- Улучшение производительности при анализе больших кодовых баз

#### Команда проекта

- Хадиев Ильнур

- Кравчук Захар

- Люлин Глеб

- Кравченко Александр

- Петренко Максим

#### Структура репозитория
```bash
├── backend/
│   ├── app/
│   │   ├── dep_analyzer.py
│   │   ├── file_processor.py
│   │   ├── cfg_visitor.py
│   │   ├── main.py
│   │   ├── pydantic_models.py
│   │   └── test/...
│   ├── docker-compose.yml
│   ├── Dockerfile
│   └── requirements.txt
├── frontend/
│   ├── src/
│   │   ├── App.jsx
│   │   ├── pages/
│   │   │   ├── CFGVisualizer.jsx
│   │   │   ├── TreePage.jsx
│   │   │   ├── helpers.js
│   │   │   └── sample.json
│   ├── Dockerfile
│   ├── package.json
│   └── vite.config.js
├── docker-compose.yml
└── README.md
```